<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Graduation Project Navigation</title>

<style>

/* Member layout */
.member-layout {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 40px;
  height: calc(100vh - 200px);
  padding: 20px;
  box-sizing: border-box;
}

.member-text {
  width: 40%;
  flex-shrink: 0;
}

/* Member photo - 2x BIGGER */
.member-photo {
  width: 55%;
  height: calc(100vh - 220px);
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  border-radius: 12px;
}

.member-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center top;
  border-radius: 12px;
  cursor: zoom-in;
  transition: transform 0.3s ease;
}

.member-photo img:hover {
  transform: scale(1.02);
}

/* Device layout - BIGGER */
.device-layout {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 40px;
  height: calc(100vh - 250px);
  padding: 20px;
  box-sizing: border-box;
}

.device-text {
  width: 45%;
  flex-shrink: 0;
}

.device-image {
  width: 50%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.device-image img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 12px;
  cursor: zoom-in;
  transition: transform 0.3s ease;
}

.device-image img:hover {
  transform: scale(1.02);
}

/* Result images - BIGGER */
.result-img {
  max-width: 90%;
  max-height: calc(100vh - 350px);
  width: auto;
  height: auto;
  object-fit: contain;
  margin-top: 20px;
  border-radius: 10px;
  cursor: zoom-in;
  transition: transform 0.3s ease;
}

.result-img:hover {
  transform: scale(1.02);
}

/* Image Zoom Overlay */
.zoom-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  cursor: zoom-out;
}

.zoom-overlay.active {
  opacity: 1;
  visibility: visible;
}

.zoom-overlay img {
  max-width: 95vw;
  max-height: 95vh;
  object-fit: contain;
  border-radius: 8px;
  box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
  transform: scale(0.8);
  transition: transform 0.3s ease;
}

.zoom-overlay.active img {
  transform: scale(1);
}

.zoom-close-btn {
  position: absolute;
  top: 20px;
  right: 30px;
  font-size: 40px;
  color: rgba(255, 255, 255, 0.8);
  cursor: pointer;
  transition: color 0.3s ease, transform 0.3s ease;
  z-index: 10001;
  user-select: none;
}

.zoom-close-btn:hover {
  color: #fff;
  transform: scale(1.2);
}

.zoom-hint {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.6);
  font-size: 14px;
  pointer-events: none;
}

body {
  margin: 0;
  font-family: "Noto Sans JP", "Segoe UI", sans-serif;
  background: #2f2f33;
  color: #f0f0f0;
  overflow: hidden;
}

.home-center {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  text-align: center;
}

.home-center h1 {
  font-size: 4rem;
  margin-bottom: 20px;
}

.home-center p {
  font-size: 2rem;
}

.side-arrow {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  width: 60px;
  height: 160px;
  background: rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.35s ease, background 0.3s ease;
  cursor: pointer;
  z-index: 200;
}

#arrow-left {
  left: 0;
  border-radius: 0 10px 10px 0;
}

#arrow-right {
  right: 0;
  border-radius: 10px 0 0 10px;
}

#arrow-left:hover,
#arrow-right:hover {
  opacity: 1;
  background: rgba(0,0,0,0.45);
}

.side-arrow span {
  font-size: 32px;
  color: #fff;
  user-select: none;
}

.nav {
  position: fixed;
  top: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 15px;
  padding: 18px 0;
  background: rgba(20,20,20,0.85);
  backdrop-filter: blur(15px);
  border-bottom: 1px solid rgba(255,255,255,0.12);
  z-index: 100;
}

.nav button {
  background: none;
  border: none;
  color: #e5e5e5;
  font-size: 16px;
  cursor: pointer;
  position: relative;
  padding: 6px 8px;
}

.nav button::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 0%;
  height: 2px;
  background: #4fa3ff;
  transition: width 0.3s;
}

.nav button:hover {
  color: #4fa3ff;
}

.nav button:hover::after {
  width: 100%;
}

.dropdown {
  position: relative;
}

.dropdown-menu {
  position: absolute;
  top: 30px;
  left: 0;
  background: rgba(30,30,30,0.95);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 8px;
  padding: 10px 0;
  display: none;
  flex-direction: column;
  width: 160px;
  backdrop-filter: blur(10px);
}

.dropdown-menu button {
  padding: 8px 15px;
  text-align: left;
  width: 100%;
  font-size: 15px;
}

.dropdown:hover .dropdown-menu {
  display: flex;
  animation: fadeIn 0.25s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to   { opacity: 1; transform: translateY(0); }
}

.page {
  position: absolute;
  top: 120px;
  left: 50%;
  width: 80%;
  max-width: 1200px;
  transform: translateX(-50%);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
}

.page.active {
  opacity: 1;
  pointer-events: auto;
}

h1 {
  font-size: 32px;
  margin-bottom: 10px;
}

p {
  font-size: 18px;
  line-height: 1.8;
}

/* Progress Bar Styles with Element Icons */
.progress-bar {
  position: fixed;
  bottom: 25px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 0;
  z-index: 300;
  padding: 12px 20px;
  background: transparent;
  border-radius: 20px;
}

.progress-dot {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.4s ease;
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.4;
}

.progress-dot .dot-circle {
  width: 8px;
  height: 8px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 50%;
  transition: all 0.4s ease;
}

.progress-dot .element-icon {
  position: absolute;
  width: 20px;
  height: 20px;
  opacity: 0;
  transform: scale(0.5) rotate(-180deg);
  transition: all 0.4s ease;
}

.progress-dot .element-icon img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.progress-dot.revealed .dot-circle {
  opacity: 0;
  transform: scale(0);
}

.progress-dot.revealed .element-icon {
  opacity: 1;
  transform: scale(1) rotate(0deg);
}

.progress-dot:hover {
  opacity: 0.8;
  transform: scale(1.2);
}

/* Active state for dots - SUPER glow */
.progress-dot.active .dot-circle {
  background: var(--element-color, rgba(255, 255, 255, 0.9));
  box-shadow: 
    0 0 10px var(--element-color, rgba(255, 255, 255, 0.5)),
    0 0 20px var(--element-color, rgba(255, 255, 255, 0.4)),
    0 0 30px var(--element-color, rgba(255, 255, 255, 0.3)),
    0 0 40px var(--element-color, rgba(255, 255, 255, 0.2));
  transform: scale(1.3);
}

/* Make sure active dots are always visible */
.progress-dot.active {
  opacity: 1 !important;
}

/* Unrevealed but active - MEGA glowing circle */
.progress-dot.active:not(.revealed) .dot-circle {
  opacity: 1;
  transform: scale(1.8);
  background: var(--element-color, #fff);
  box-shadow: 
    0 0 10px var(--element-color, rgba(255, 255, 255, 0.9)),
    0 0 20px var(--element-color, rgba(255, 255, 255, 0.7)),
    0 0 35px var(--element-color, rgba(255, 255, 255, 0.5)),
    0 0 50px var(--element-color, rgba(255, 255, 255, 0.4)),
    0 0 70px var(--element-color, rgba(255, 255, 255, 0.2));
  animation: superGlow 1.5s ease-in-out infinite;
}

@keyframes superGlow {
  0%, 100% { 
    transform: scale(1.8);
    box-shadow: 
      0 0 10px var(--element-color, rgba(255, 255, 255, 0.9)),
      0 0 20px var(--element-color, rgba(255, 255, 255, 0.7)),
      0 0 35px var(--element-color, rgba(255, 255, 255, 0.5)),
      0 0 50px var(--element-color, rgba(255, 255, 255, 0.4)),
      0 0 70px var(--element-color, rgba(255, 255, 255, 0.2));
  }
  50% { 
    transform: scale(2.2);
    box-shadow: 
      0 0 15px var(--element-color, rgba(255, 255, 255, 1)),
      0 0 30px var(--element-color, rgba(255, 255, 255, 0.8)),
      0 0 50px var(--element-color, rgba(255, 255, 255, 0.6)),
      0 0 70px var(--element-color, rgba(255, 255, 255, 0.5)),
      0 0 100px var(--element-color, rgba(255, 255, 255, 0.3));
  }
}

/* Revealed and active - icon SUPER glows */
.progress-dot.active.revealed .element-icon {
  filter: drop-shadow(0 0 8px var(--element-color))
          drop-shadow(0 0 15px var(--element-color))
          drop-shadow(0 0 25px var(--element-color))
          drop-shadow(0 0 40px var(--element-color));
  animation: iconGlow 1.5s ease-in-out infinite;
}

@keyframes iconGlow {
  0%, 100% {
    filter: drop-shadow(0 0 8px var(--element-color))
            drop-shadow(0 0 15px var(--element-color))
            drop-shadow(0 0 25px var(--element-color))
            drop-shadow(0 0 40px var(--element-color));
  }
  50% {
    filter: drop-shadow(0 0 12px var(--element-color))
            drop-shadow(0 0 25px var(--element-color))
            drop-shadow(0 0 40px var(--element-color))
            drop-shadow(0 0 60px var(--element-color));
  }
}

/* Visited dots also have subtle glow */
.progress-dot.visited.revealed .element-icon {
  filter: drop-shadow(0 0 5px var(--element-color));
}
.progress-dot.visited {
  opacity: 0.7;
}

@keyframes elementPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

@keyframes revealElement {
  0% { transform: scale(0.5) rotate(-180deg); opacity: 0; }
  50% { transform: scale(1.3) rotate(10deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

.progress-dot.revealing .element-icon {
  animation: revealElement 0.5s ease forwards;
}

/* Element Colors */
.progress-dot.pyro { --element-color: #ff6b4a; }
.progress-dot.hydro { --element-color: #4fc3f7; }
.progress-dot.anemo { --element-color: #80cbc4; }
.progress-dot.electro { --element-color: #ce93d8; }
.progress-dot.dendro { --element-color: #aed581; }
.progress-dot.cryo { --element-color: #b3e5fc; }
.progress-dot.geo { --element-color: #ffcc80; }

.progress-line {
  width: 12px;
  height: 2px;
  background: rgba(255, 255, 255, 0.15);
  transition: all 0.3s ease;
}

.progress-line.active {
  background: var(--line-color, rgba(255, 255, 255, 0.5));
}

/* Tooltip for dots */
.progress-dot::before {
  content: attr(data-title);
  position: absolute;
  bottom: 35px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(30, 30, 30, 0.95);
  color: rgba(255, 255, 255, 0.9);
  padding: 5px 10px;
  border-radius: 6px;
  font-size: 11px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  border: 1px solid var(--element-color, rgba(255,255,255,0.2));
}

.progress-dot:hover::before {
  opacity: 1;
}

/* Page counter with element display */
.page-counter {
  position: fixed;
  bottom: 70px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 13px;
  color: rgba(255, 255, 255, 0.5);
  z-index: 300;
  display: flex;
  align-items: center;
  gap: 10px;
}

.current-element-icon {
  width: 24px;
  height: 24px;
  filter: drop-shadow(0 0 5px var(--current-element-color));
}

.current-element-icon img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Responsive - smaller screens */
@media (max-width: 900px) {
  .member-layout,
  .device-layout {
    flex-direction: column;
    height: auto;
    text-align: center;
  }
  
  .member-text,
  .device-text {
    width: 100%;
  }
  
  .member-photo {
    width: 100%;
    height: 50vh;
  }
  
  .device-image {
    width: 100%;
    height: auto;
    max-height: 50vh;
  }
  
  .progress-bar {
    padding: 8px 12px;
    bottom: 12px;
  }
  
  .progress-dot {
    width: 16px;
    height: 16px;
  }
  
  .progress-dot.active {
    width: 22px;
    height: 22px;
  }
  
  .progress-line {
    width: 6px;
  }
}
</style>
</head>

<body>

<!-- Image Zoom Overlay -->
<div class="zoom-overlay" id="zoom-overlay" onclick="closeZoom()">
  <span class="zoom-close-btn" onclick="closeZoom()">&times;</span>
  <img id="zoom-image" src="" alt="Zoomed Image">
  <div class="zoom-hint">クリックまたはESCで閉じる</div>
</div>

<div id="arrow-left" class="side-arrow" onclick="prevPage()">
  <span>⟵</span>
</div>

<div id="arrow-right" class="side-arrow" onclick="nextPage()">
  <span>⟶</span>
</div>

<!-- ナビゲーションバー -->
<div class="nav">
  <div class="dropdown">
    <button>ホーム</button>
    <div class="dropdown-menu">
      <button onclick="showPage('member1', true)">メンバー1</button>
      <button onclick="showPage('member2', true)">メンバー2</button>
      <button onclick="showPage('member3', true)">メンバー3</button>
      <button onclick="showPage('theme', true)">テーマ</button>
      <button onclick="showPage('background', true)">背景</button>
      <button onclick="showPage('purpose', true)">目的</button>
      <button onclick="showPage('goal', true)">目標</button>
      <button onclick="showPage('usecase', true)">ユースケース</button>
    </div>
  </div>

  <div class="dropdown">
    <button>作品概要</button>
    <div class="dropdown-menu">
      <button onclick="showPage('device', true)">使用機器</button>
    </div>
  </div>

  <div class="dropdown">
    <button>検証結果</button>
    <div class="dropdown-menu">
      <button onclick="showPage('step1', true)">結果1</button>
      <button onclick="showPage('step2-1', true)">結果2-1</button>
      <button onclick="showPage('step2-2', true)">結果2-2</button>
      <button onclick="showPage('step2-3', true)">結果2-3</button>
      <button onclick="showPage('step3-1', true)">結果3-1</button>
      <button onclick="showPage('step3-2', true)">結果3-2</button>
      <button onclick="showPage('step4-1', true)">結果4-1</button>
      <button onclick="showPage('step4-2', true)">結果4-2</button>
      <button onclick="showPage('step4-3', true)">結果4-3</button>
      <button onclick="showPage('step4-4', true)">結果4-4</button>
      <button onclick="showPage('step4-5', true)">結果4-5</button>
      <button onclick="showPage('step4-6', true)">結果4-6</button>
      <button onclick="showPage('step4-7', true)">結果4-7</button>
      <button onclick="showPage('step4-8', true)">結果4-8</button>
    </div>
  </div>

  <div class="dropdown">
    <button>コスト</button>
    <div class="dropdown-menu">
      <button onclick="showPage('prob1', true)">10月</button>
      <button onclick="showPage('prob2', true)">11月</button>
      <button onclick="showPage('prob3', true)">12月</button>
    </div>
  </div>

  <div class="dropdown">
    <button>answer</button>
    <div class="dropdown-menu">
      <button onclick="showPage('sol1', true)">4</button>
      <button onclick="showPage('sol2', true)">5</button>
      <button onclick="showPage('sol3', true)">6</button>
    </div>
  </div>
</div>

<!-- Page Counter with Element Display -->
<div class="page-counter">
  <div class="current-element-icon" id="current-element-icon"></div>
  <span><span id="current-page">1</span> / <span id="total-pages">30</span></span>
  <span id="element-name" style="opacity: 0.7; font-size: 11px;">Pyro</span>
</div>

<!-- Progress Bar -->
<div class="progress-bar" id="progress-bar">
  <!-- Dots and lines will be generated by JavaScript -->
</div>

<!-- 各ページ内容 -->
<div id="home" class="page active home-center">
  <h1>Inspector</h1>
  <p>Hello everyone !</p>
</div>

<!-- Member pages - 2X BIGGER -->
<div id="member1" class="page">
  <div class="member-layout">
    <div class="member-text">
      <h1>翁　俊涵</h1>
      <p>24cc0128</p>
      <p>好きな食べ物はしめ鯖！</p>
    </div>
    <div class="member-photo">
      <img src="os.png" alt="翁 俊涵の写真" class="zoomable">
    </div>
  </div>
</div>

<div id="member2" class="page">
  <div class="member-layout">
    <div class="member-text">
      <h1>銭　樹義</h1>
      <p>24cc0116</p>
      <p>好きな食べ物は二郎系ラーメン！</p>
    </div>
    <div class="member-photo">
      <img src="chin.jpg" alt="銭 樹義の写真" class="zoomable">
    </div>
  </div>
</div>

<div id="member3" class="page">
  <div class="member-layout">
    <div class="member-text">
      <h1>ソフヤン　ファリオ</h1>
      <p>24cc0124</p>
      <p>好きな食べ物はつけ麺！</p>
    </div>
    <div class="member-photo">
      <img src="gekido.jpg" alt="ソフヤン ファリオの写真" class="zoomable">
    </div>
  </div>
</div>

<div id="theme" class="page">
  <h1>テーマ</h1>
  <h2>クラウドサーバーのツールによる複数サーバーの監視・防御及びログの出力</h2>
  <img src="ChatGPT Image Dec 19, 2025, 02_46_45 PM.png" class="result-img zoomable">
</div>

<div id="background" class="page">
  <h1>背景</h1>
  <h2>オンプレミスからクラウドへ移行をする会社が増加⇗⇗</h2>
  <h2>クラウドのためのセキュリティの必要性の増加⇗⇗</h2>
  <img src="onpre_to_cloud.png" alt="移行のイラスト" class="zoomable" style="width:50%; margin-top:20px; border-radius:10px; cursor:zoom-in;">
</div>

<div id="purpose" class="page">
  <h1>目的</h1>
  <h2>クラウドサーバの構築</h2>
  <pre>
  
  </pre>
  <h2>ログおよびメトリクス運用と監視そしてそのセキュリティの運用</h2>
  <pre>
  
  </pre>
  <h2>AIを使用した運用状況の報告</h2>
</div>

<div id="goal" class="page">
  <h1>目標</h1>
  <h2>EC2で構築したサーバの基本構築と防御手段の導入および実装</h2>
  <pre>
  
  </pre>
  <h2>外部ツールによるログおよびメトリクスを監視</h2>
  <pre>
  
  </pre>
  <h2>AIの構築および運用</h2>
</div>

<div id="usecase" class="page">
  <h1>ユースケース</h1>
  <h2>ユーザ：セキュリティエンジニア</h2>
  <h3>操作：AIを利用した日次報告書の作成</h3>
  <h3>結果：監視の効率化</h3>
  <h2>ユーザ：クラウドに移行した企業</h2>
  <h3>操作：AWSを利用したサーバの監視</h3>
  <h3>結果：クラウド環境でのログ監視</h3>
</div>

<!-- Device page - BIGGER -->
<div id="device" class="page">
  <h1>使用機器</h1>
  <div class="device-layout">
    <div class="device-text">
      <h2>PC　2台</h2>
      <h2>Grafana</h2>
      <h2>ClamAV</h2>
      <h2>Rspamd</h2>
      <h2>Claude(AI)</h2>
      <h2>Mailcow</h2>
      <h2>Nextcloud</h2>
      <h2>AWS</h2>
      <h3>EC2　SES　S3</h3>
      <h3>Lambda　Cloudwatch　Route53</h3>
    </div>
    <div class="device-image">
      <img src="卒表制作2.png" alt="トポロジの写真" class="zoomable">
    </div>
  </div>
</div>

<!-- Result pages - BIGGER -->
<div id="step1" class="page">
  <h1>結果1</h1>
  <h2>通常メールの送信</h2>
  <img src="normal mail sended.png" alt="通常メール送信のスクショ" class="result-img zoomable">
</div>

<div id="step2-1" class="page">
  <h1>結果2 - 異常なメールの送信</h1>
  <h2>フィッシングリンク付きのメールを送信</h2>
  <img src="send phising link.png" class="result-img zoomable">
</div>

<div id="step2-2" class="page">
  <h2>メール送信の失敗</h2>
  <img src="blocked mail does not come.png" class="result-img zoomable">
</div>

<div id="step2-3" class="page">
  <h2>メールはブロックされた</h2>
  <img src="blocked sended mail.png" class="result-img zoomable">
</div>

<div id="step3-1" class="page">
  <h1>結果3</h1>
  <h2>通常のファイルのアップロード</h2>
  <img src="normal file.png" class="result-img zoomable">
</div>

<div id="step3-2" class="page">
  <h2>異常なファイルのアップロード</h2>
  <img src="block file.png" class="result-img zoomable">
</div>

<div id="step4-1" class="page">
  <h1>結果4</h1>
  <h1>AIの動作</h1>
  <h2>AIによる日次報告書</h2>
  <img src="grafana_ai_alert_report.png" class="result-img zoomable">
</div>

<div id="step4-2" class="page">
  <h2>発生したアラート</h2>
  <img src="grafana_ai_alert_report_2.png" class="result-img zoomable">
</div>

<div id="step4-3" class="page">
  <h2>アラートに対するおすすめの対処法の提供</h2>
  <img src="grafana_ai_alert_report_3.png" class="result-img zoomable">
</div>

<div id="step4-4" class="page">
  <h2>ログ</h2>
  <img src="grafana_ai_alert_report_5.png" class="result-img zoomable">
</div>

<div id="step4-5" class="page">
  <h2>全体の要約</h2>
  <img src="grafana_ai_alert_report_6.png" class="result-img zoomable">
</div>

<div id="step4-6" class="page">
  <h2>AIによる管理者へのメール送信 </h2>
  <img src="summary mail.png" class="result-img zoomable">
</div>

<div id="step4-7" class="page">
  <h2>メール送信</h2>
  <img src="sum1.png" class="result-img zoomable">
</div>

<div id="step4-8" class="page">
  <h2>メール送信</h2>
  <img src="sum2.png" class="result-img zoomable">
</div>

<div id="prob1" class="page">
  <h1>AWSでかかったコスト</h1>
  <h2>10月</h2>
  <p>Registrar $15.00(¥2351)</p>
  <p>VirtualPrivateCloud $5.24(¥821)</p>
  <p>ElasticComputeCloud $3.03(¥475)</p>
  <p>Route53 $0.52(¥82)</p>
  <p>税 $2.38(¥373)</p>
  <p>合計 $26.17(¥4102)</p>
</div>

<div id="prob2" class="page">
 <div style="font-family: Arial, sans-serif; width: 460px; font-size: 18px;">
  <div style="display: flex; font-weight: bold; border-bottom: 2px solid #000; padding-bottom: 6px; margin-bottom: 10px;">
    <span style="width: 240px;">サービス名</span>
    <span style="width: 110px; text-align: right;">金額 (USD)</span>
    <span style="width: 110px; text-align: right;">金額 (JPY)</span>
  </div>

  <div style="display: flex; margin-bottom: 6px;">
    <span style="width: 240px;">VirtualPrivateCloud</span>
    <span style="width: 110px; text-align: right;">$6.72</span>
    <span style="width: 110px; text-align: right;">¥1055</span>
  </div>

  <div style="display: flex; margin-bottom: 6px;">
    <span style="width: 240px;">ElasticComputeCloud</span>
    <span style="width: 110px; text-align: right;">$4.98</span>
    <span style="width: 110px; text-align: right;">¥782</span>
  </div>

  <div style="display: flex; margin-bottom: 6px;">
    <span style="width: 240px;">Route53</span>
    <span style="width: 110px; text-align: right;">$0.51</span>
    <span style="width: 110px; text-align: right;">¥80</span>
  </div>

  <div style="display: flex; margin-bottom: 6px;">
    <span style="width: 240px;">CloudWatch</span>
    <span style="width: 110px; text-align: right;">$0.01</span>
    <span style="width: 110px; text-align: right;">¥2</span>
  </div>

  <div style="display: flex; margin-bottom: 6px;">
    <span style="width: 240px;">SimpleEmailService</span>
    <span style="width: 110px; text-align: right;">$0.01</span>
    <span style="width: 110px; text-align: right;">¥2</span>
  </div>

  <div style="display: flex; margin-bottom: 6px;">
    <span style="width: 240px;">税</span>
    <span style="width: 110px; text-align: right;">$1.23</span>
    <span style="width: 110px; text-align: right;">¥193</span>
  </div>

  <div style="display: flex; font-weight: bold; border-top: 2px solid #000; margin-top: 10px; padding-top: 6px;">
    <span style="width: 240px;">合計</span>
    <span style="width: 110px; text-align: right;">$13.46</span>
    <span style="width: 110px; text-align: right;">¥2114</span>
  </div>
 </div>
</div>

<div id="prob3" class="page">
  <h2>12月</h2>
  <p>ElasticComputeCloud $13.62(¥2138)</p>
  <p>VirtualPrivateCloud $2.87(¥451)</p>
  <p>CloudWatch $1.13(¥177)</p>
  <p>Route53 $0.51(¥80)</p>
  <p>SimpleEmailService $0.01(¥2)</p>
  <p>税 $1.81(¥284)</p>
  <p>合計 $19.95(¥3132)</p>
</div>

<div id="sol1" class="page">
  <h1>4</h1>
  <p>test</p>
</div>

<div id="sol2" class="page">
  <h1>5</h1>
  <p>test</p>
</div>

<div id="sol3" class="page">
  <h1>6</h1>
  <p>test</p>
</div>

<script>
const pages = [
  'home', 'member1', 'member2', 'member3', 'theme', 'background', 'purpose', 'goal', 'usecase',
  'device',
  'step1', 'step2-1', 'step2-2', 'step2-3', 'step3-1', 'step3-2', 'step4-1', 'step4-2', 'step4-3', 'step4-4', 'step4-5', 'step4-6', 'step4-7', 'step4-8',
  'prob1', 'prob2', 'prob3',
  'sol1', 'sol2', 'sol3'
];

const pageTitles = [
  'ホーム', 'メンバー1', 'メンバー2', 'メンバー3', 'テーマ', '背景', '目的', '目標', 'ユースケース',
  '使用機器',
  '結果1', '結果2-1', '結果2-2', '結果2-3', '結果3-1', '結果3-2', '結果4-1', '結果4-2', '結果4-3', '結果4-4', '結果4-5', '結果4-6', '結果4-7', '結果4-8',
  '問題1', '問題2', '問題3',
  '解決1', '解決2', '解決3'
];

// Element images - NEW ORDER: Anemo → Geo → Electro → Dendro → Hydro → Pyro → Cryo
const elements = [
  { name: 'Anemo', class: 'anemo', color: '#80cbc4', img: 'Anemo.png' },
  { name: 'Geo', class: 'geo', color: '#ffcc80', img: 'Geo.png' },
  { name: 'Electro', class: 'electro', color: '#ce93d8', img: 'Electro.png' },
  { name: 'Dendro', class: 'dendro', color: '#aed581', img: 'Dendro.png' },
  { name: 'Hydro', class: 'hydro', color: '#4fc3f7', img: 'Hydro.png' },
  { name: 'Pyro', class: 'pyro', color: '#ff6b4a', img: 'Pyro.png' },
  { name: 'Cryo', class: 'cryo', color: '#b3e5fc', img: 'Cryo.png' }
];

// 30 pages ÷ 7 elements = ~4-5 pages per element
// Distribution: 5, 4, 4, 4, 4, 4, 5 = 30 pages
const elementDistribution = [5, 4, 4, 4, 4, 4, 5];

let currentIndex = 0;
let revealedPages = new Set([0]);
let zoomOpen = false;

// Get element for a given page index - using custom distribution
function getElementForIndex(index) {
  let count = 0;
  for (let i = 0; i < elementDistribution.length; i++) {
    count += elementDistribution[i];
    if (index < count) {
      return elements[i];
    }
  }
  return elements[elements.length - 1];
}

// Image Zoom Functions
function openZoom(imgSrc) {
  const overlay = document.getElementById('zoom-overlay');
  const zoomImg = document.getElementById('zoom-image');
  zoomImg.src = imgSrc;
  overlay.classList.add('active');
  zoomOpen = true;
  document.body.style.overflow = 'hidden';
}

function closeZoom() {
  const overlay = document.getElementById('zoom-overlay');
  overlay.classList.remove('active');
  zoomOpen = false;
  document.body.style.overflow = 'hidden';
}

// Initialize zoomable images
function initZoomableImages() {
  const zoomableImages = document.querySelectorAll('.zoomable');
  zoomableImages.forEach(function(img) {
    img.addEventListener('click', function(e) {
      e.stopPropagation();
      openZoom(this.src);
    });
  });
}

// Generate progress bar with element icons
function generateProgressBar() {
  const progressBar = document.getElementById('progress-bar');
  progressBar.innerHTML = '';
  
  pages.forEach((page, index) => {
    const element = getElementForIndex(index);
    
    // Create dot
    const dot = document.createElement('div');
    dot.className = 'progress-dot ' + element.class;
    dot.setAttribute('data-title', pageTitles[index] + ' (' + element.name + ')');
    dot.setAttribute('data-index', index);
    dot.onclick = function() { goToPage(index); };
    
    // Inner circle (shown before reveal)
    const dotCircle = document.createElement('div');
    dotCircle.className = 'dot-circle';
    dot.appendChild(dotCircle);
    
    // Element icon (shown after reveal)
    const elementIcon = document.createElement('div');
    elementIcon.className = 'element-icon';
    elementIcon.innerHTML = '<img src="' + element.img + '" alt="' + element.name + '">';
    dot.appendChild(elementIcon);
    
    if (index === 0) {
      dot.classList.add('active', 'revealed');
    }
    
    progressBar.appendChild(dot);
    
    // Create line (except after last dot)
    if (index < pages.length - 1) {
      const line = document.createElement('div');
      line.className = 'progress-line';
      line.setAttribute('data-index', index);
      line.style.setProperty('--line-color', element.color);
      progressBar.appendChild(line);
    }
  });
  
  // Update total pages counter
  document.getElementById('total-pages').textContent = pages.length;
  updateElementDisplay();
}

// Update current element display
function updateElementDisplay() {
  const element = getElementForIndex(currentIndex);
  const iconContainer = document.getElementById('current-element-icon');
  iconContainer.innerHTML = '<img src="' + element.img + '" alt="' + element.name + '">';
  iconContainer.style.setProperty('--current-element-color', element.color);
  
  const elementNameSpan = document.getElementById('element-name');
  elementNameSpan.textContent = element.name;
  elementNameSpan.style.color = element.color;
}

// Reveal a dot with animation
function revealDot(index, animate) {
  const dots = document.querySelectorAll('.progress-dot');
  const dot = dots[index];
  
  if (dot && !revealedPages.has(index)) {
    revealedPages.add(index);
    dot.classList.add('revealed');
    
    if (animate) {
      dot.classList.add('revealing');
      setTimeout(function() {
        dot.classList.remove('revealing');
      }, 500);
    }
  }
}

// Update progress bar visual state
function updateProgressBar() {
  const dots = document.querySelectorAll('.progress-dot');
  const lines = document.querySelectorAll('.progress-line');
  
  dots.forEach(function(dot, index) {
    dot.classList.remove('active', 'visited');
    
    if (index === currentIndex) {
      dot.classList.add('active');
    } else if (revealedPages.has(index)) {
      dot.classList.add('visited');
    }
  });
  
  lines.forEach(function(line, index) {
    line.classList.remove('active');
    if (index < currentIndex && revealedPages.has(index) && revealedPages.has(index + 1)) {
      line.classList.add('active');
    }
  });
  
  document.getElementById('current-page').textContent = currentIndex + 1;
  updateElementDisplay();
}

// Main navigation function - ALL navigation goes through here
function goToPage(index) {
  currentIndex = index;
  
  // Switch page content
  document.querySelectorAll('.page').forEach(function(p) {
    p.classList.remove('active');
  });
  document.getElementById(pages[currentIndex]).classList.add('active');
  
  // ALWAYS reveal the current page icon
  revealDot(currentIndex, true);
  
  // Update visual state
  updateProgressBar();
}

// For menu dropdown compatibility
function showPage(id, isFromMenu) {
  const index = pages.indexOf(id);
  goToPage(index);
}

// Previous page
function prevPage() {
  if (zoomOpen) return;
  const newIndex = (currentIndex - 1 + pages.length) % pages.length;
  goToPage(newIndex);
}

// Next page
function nextPage() {
  if (zoomOpen) return;
  const newIndex = (currentIndex + 1) % pages.length;
  goToPage(newIndex);
}

// Keyboard navigation
document.addEventListener('keydown', function(event) {
  if (event.key === 'Escape' && zoomOpen) {
    closeZoom();
    return;
  }
  
  if (zoomOpen) return;
  
  if (event.key === 'ArrowLeft') {
    prevPage();
  } else if (event.key === 'ArrowRight') {
    nextPage();
  }
});

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  generateProgressBar();
  initZoomableImages();
});
</script>

</body>
</html>


